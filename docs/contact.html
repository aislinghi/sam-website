<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - Mr Samir Dowlut</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="top-bar">
        <div class="social-links">
            <a href="https://www.linkedin.com/in/samir-dowlut-a712aa140/?originalSubdomain=uk"><i class="fab fa-linkedin"></i></a>
        </div>
        <div class="contact-info">
            <a href="#" class="book-consultation">
                <i class="far fa-clock"></i>
                Book A Consultation
            </a>
            <a href="tel:0117 905 7722" class="phone-number">
                <i class="fas fa-phone"></i>
                0117 905 7722
            </a>
        </div>
    </div>

    <nav class="main-nav">
        <a href="index.html" class="logo">
            <img src="images/samir-dowlut.png" alt="Mr Samir Dowlut" class="profile-image">
            <div class="logo-text">
                <h1>MR SAMIR DOWLUT</h1>
                <p>Ophthalmologist/ Vitreoretinal and Cataract Surgeon</p>
            </div>
        </a>
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="cataract.html">Cataract Surgery</a>
            <a href="macula.html">Macula Hole</a>
            <a href="retinal.html">Retinal Detachment</a>
            <a href="treatments.html">Other Treatments</a>
            <a href="about.html">About</a>
            <a href="contact.html" class="active">Contact</a>
            <a href="testimonials.html">Testimonials</a>
        </div>
    </nav>
    
    <div class="container">
        <h1>Contact Information</h1>
        <div class="contact-grid">
            <div class="contact-locations">
                <h2>Clinic Locations</h2>
                <div class="location" data-lat="55.0374" data-lng="-7.2749">
                    <h3>Northwest Independent Hospital</h3>
                    <p><i class="fas fa-map-marker-alt"></i> Church Hill House, Ballykelly, Limavady BT49 9HS</p>
                </div>

                <div class="location" data-lat="54.5973" data-lng="-5.9301">
                    <h3>Cathedral Eye Clinic</h3>
                    <p><i class="fas fa-map-marker-alt"></i> 89-91 Academy St, Belfast BT1 2LS</p>
                </div>

                <div class="location" data-lat="54.4623" data-lng="-6.0834">
                    <h3>Hillsborough Private Clinic</h3>
                    <p><i class="fas fa-map-marker-alt"></i> 2 Main St, Hillsborough BT26 6AE</p>
                </div>

                <div class="location" data-lat="54.3492" data-lng="-6.2700">
                    <h3>Solasta Clinic</h3>
                    <p><i class="fas fa-map-marker-alt"></i> Unit 70, The Boulevard, Banbridge BT32 4LF</p>
                </div>
            </div>
            <div id="map"></div>
        </div>
    </div>

    <script>
        let map;
        let markers = [];

        function initMap() {
            const belfast = { lat: 54.5973, lng: -5.9301 };
            
            map = new google.maps.Map(document.getElementById("map"), {
                zoom: 9,
                center: belfast,
                mapTypeControl: false,
                streetViewControl: false,
                fullscreenControl: false
            });

            const locations = document.querySelectorAll('.location');
            const bounds = new google.maps.LatLngBounds();

            locations.forEach(location => {
                const lat = parseFloat(location.dataset.lat);
                const lng = parseFloat(location.dataset.lng);
                const title = location.querySelector('h3').textContent;
                const address = location.querySelector('p').textContent;
                const position = { lat, lng };

                const marker = new google.maps.Marker({
                    position,
                    map,
                    title,
                    animation: google.maps.Animation.DROP
                });

                bounds.extend(position);
                markers.push(marker);

                const infowindow = new google.maps.InfoWindow({
                    content: `<div class="info-window"><h4>${title}</h4><p>${address}</p></div>`
                });

                marker.addListener('click', () => {
                    infowindow.open(map, marker);
                });

                location.addEventListener('click', () => {
                    map.panTo(position);
                    map.setZoom(15);
                    infowindow.open(map, marker);
                });
            });

            // Fit map to show all markers
            map.fitBounds(bounds);
            
            // Add some padding to the bounds
            const padded = google.maps.event.addListenerOnce(map, 'idle', () => {
                map.setZoom(map.getZoom() - 0.5);
            });
        }

        function handleMapError() {
            const mapDiv = document.getElementById('map');
            mapDiv.innerHTML = '<div class="map-error">Unable to load the map. Please refresh the page or try again later.</div>';
        }

        // Load Google Maps API
        (g=>{var h,a,k,p="The Google Maps JavaScript API",c="google",l="importLibrary",q="__ib__",m=document,b=window;b=b[c]||(b[c]={});var d=b.maps||(b.maps={}),r=new Set,e=new URLSearchParams,u=()=>h||(h=new Promise(async(f,n)=>{await (a=m.createElement("script"));e.set("libraries",[...r]+"");for(k in g)e.set(k.replace(/[A-Z]/g,t=>"_"+t[0].toLowerCase()),g[k]);e.set("callback",c+".maps."+q);a.src=`https://maps.${c}apis.com/maps/api/js?`+e;d[q]=f;a.onerror=()=>h=n(Error(p+" could not load."));a.nonce=m.querySelector("script[nonce]")?.nonce||"";m.head.append(a)}));d[l]?console.warn(p+" only loads once. Ignoring:",g):d[l]=(f,...n)=>r.add(f)&&u().then(()=>d[l](f,...n))})({
            key: "AIzaSyDvHEnXQby9FWF7S_CvcQqU1jPJvFa6dlw",
            v: "weekly"
        });

        // Initialize the map
        async function initializeMap() {
            try {
                const { Map } = await google.maps.importLibrary("maps");
                initMap();
            } catch (error) {
                handleMapError();
                console.error("Error loading Google Maps:", error);
            }
        }

        initializeMap();
    </script>
</body>
</html> 